<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>怎么排除元素</title>
		<style>
			div{
				width: 500px;
				height: 30px;
			}
			input{
				width: 496px;
			}
			ul{
				margin: 0;
				padding: 0;
				
			}
			ul li{
				list-style: none;
				background: #009999;
				margin-top: 2px;
				font: 16px/30px "微软雅黑";
				color: #fff;
			}
			li:hover{
				background: #00ff99;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript">
			window.onload=function(){
				//1、点击输入框列表显示，点击页面其它地方列表隐藏
				var search=document.getElementById('search');
				var ul=document.querySelector('ul');
				var lis=document.querySelectorAll('li');
				
				search.onclick=function(){
					ul.style.display='block';
					//console.log(ul.style.display);
				}
				/*document.onclick=function(){
					ul.style.display='none';
				}*/
				
				/*3、鼠标点击某个列表项，需要在选中与未选中之间切换。并且所有列表只能同时选中一个（一个选中，其它就取消选中）
		                    选中状态：
			        1、有背景色
			        2、input里内容为选中的书名
		                    未选中状态：
			        1、无背景色
			        2、input里内容为空
			    */
				for(var i=0;i<lis.length;i++){
					lis[i].onclick=function(){
						this.style.background='#60625b';
						search.value=this.innerHTML;
					}
				}
				//4、回车键盘功能
				search.onkeydown=function(ev){
					if(ev.keyCode==13){
						ul.style.display='none';
					}
				}
				
				/*5、上下方向键盘功能
		            1、按上下方向键，选中的列表项会跟着方向键盘走，按下键，选中下一个。按上键，选中上一个。并且首尾要衔接（也就是上下键一直能按）
		            2、在按上下方向键选中列表项的时候，再按下回车键，列表项消失，input框里的内容为选中的内容
		        */
		        for(var i=0;i<lis.length;i++){
					lis[i].onkeydown=function(ev){
						if(ev.keyCode==38){
							this.previousElementSibling.style.background='#60625b';
					    }
					}
				}
		        
		        //6、搜索功能
		            //在input框里输入文字，下面列表只显示搜索到的列表，同时按Backspace键也是一样的功能
		        search.onkeydown=function(){
		        	for(var i=0;i<lis.length;i++){
						if(search.value==lis[i].innerHTML){
							this.style.display='block';
						}
					}
				}
			}
		</script>
		<div>
			<input type="text" name="search" id="search" value="" />
			<ul style="display: none;">
				<li>《第七个读者》</li>
				<li>《心理罪 画像》</li>
				<li>《心理罪 教化场》</li>
				<li>《心理罪 暗河》</li>
				<li>《心理罪 城市之光》</li>
				<li>《地球往事》</li>
				<li>《黑暗森林》</li>
				<li>《死神永生》</li>
				<li>《乡村教师》</li>
				<li>《地球大炮》</li>
			</ul>
		</div>
	</body>
</html>
